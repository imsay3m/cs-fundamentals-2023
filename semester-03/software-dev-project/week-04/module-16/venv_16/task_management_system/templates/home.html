{% extends 'base.html' %}
{% block content %}
  <div>
    <h1>All Tasks</h1>
    <div class="row">
      {% for task in data %}
        <div class="col-sm-3 my-2">
          <div class="card text-bg-dark">
            <div class="card-body">
              <p class="card-subtitle mb-2 text-muted">
                ID: <span class="text-warning">{{ task.id }}</span>
              </p>
              <h5 class="card-title">{{ task.title }}</h5>
              <p class="card-subtitle mb-2 text-muted">
                Assign Date: <span class="text-info">{{ task.assign_date }}</span>
              </p>
              <p class="card-text">{{ task.description }}</p>
              <p class="card-subtitle mb-2 text-muted">
                Category:{% for catagory in task.categories.all %}
                  <button class="btn btn-secondary rounded-pill m-1">{{ catagory }}</button>
                {% endfor %}
              </p>
              <p class="card-text">
                {% if task.completed %}
                  <button class="btn btn-success w-100">Completed</button>
                {% else %}
                  <a href="{% url 'edit_task' task.id %}" class="btn btn-warning">Edit</a>
                  <a href="{% url 'delete_task' task.id %}" class="btn btn-danger">Delete</a>
                {% endif %}
              </p>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
{% endblock %}
